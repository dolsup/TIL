# Clean Software

> 원제: Agile Software Development, Principles, Patterns, and Practices
>
> 로버트 C. 마틴. 이용원 외 2명 역. 제이펍. 2017 [[상세정보]](http://book.naver.com/bookdb/book_detail.nhn?bid=12035385)



## 7. 애자일 설계란 무엇인가

> 애자일 팀은 악취를 제거하기 위해 원칙을 적용하는데, 아무 악취도 나지 않을 때는 원칙을 적용하지 않는다. (중략) 원칙에 대한 맹종은 불필요한 복잡성이란 설계의 악취로 이어진다.



### 부패하고 있는 소프트웨어의 악취

1. 경직성: 시스템의 변경이 어려움. 변경을 하려면 시스템의 다른 부분들도 영향을 받음.
2. 취약성: 시스템의 특정 부분을 변경하면 그 부분과 개념적으로 관련 없는 부분이 망가짐.
3. 부동성: 다른 시스템에서 유용하게 쓸 수 있는 부분을 원래 시스템에서 분리하기가 어려움.
4. 점착성: 옳은 것을 하는 것이 잘못된 것을 하는 것보다 어려움. 예를 들어 변경사항을 마주했을 때, 현재 설계를 유지하는 것이 엉터리 방법보다 어렵다면 설계의 점착성이 높아진다고 할 수 있음. (*점착성이라는 단어가 잘 안 와닿음. '끈기 있게 착 달라붙는다???'*)
5. 불필요한 복잡성: 현재 시점에 유용하지 않은 요소가 설계에 포함 됨. '앞으로 일어날지도 모르는 일'을 과도하게 준비함.
6. 불필요한 반복: Ctrl-C, Ctrl-V 코드의 반복.
7. 불투명성: 모듈, 코드가 읽고 이해하기 어려움. 의도를 잘 표현하지 못함.



### Copy 프로그램 예제

'Copy' 프로그램 예제에서는 소프트웨어가 개발 된 후, 요구사항의 변화를 겪으며 부패하는 예제를 보여 줌. 그 과정에서 다음과 같은 증상들이 나타났음.
- 일정을 지나치게 뻥튀기 함.
- 하지만 실제로 중간 중간 잡다한 일이 많이 끼어 들어 옴.
- 인터페이스 변경에 시스템의 많은 부분들이 영향을 받음 (하지만 이 부분은 어쩔 수 없는 부분인 것 같긴 하다. 따라서 최초에 인터페이스를 설계할 때 신중해야 하며 버저닝 정책 등을 고려하는 듯).
- 계속되는 요구사항 변경으로 고객이 소프트웨어 설계를 망치고 있다고 탓 함.
- 변경된 기능에 대해 코드로 설명할 수 없어 주석이 추가 됨. 실제로 주석이 없다면 코드를 이해할 수 없음.

> 우리는 변하는 요구사항의 세계에 살고 있고, 우리가 만든 소프트웨어가 이런 변화 속에서 살아남을 수 있게 만드는 것이 바로 우리가 해야 하는일.

박성철님의 [슬라이드](https://www.slideshare.net/gyumee/ss-55817747)에서는 제목 그대로 소프트웨어에 유기적이라는 표현을 썼음. 소프트웨어는 생물처럼 변화에 적응하고 대응해야 함. 그럼 어떻게 해야 해?

- 시스템의 설계를 가능한 명료하고 단순하게 유지.
    - 애자일 실천방법으로 문제를 찾아냄
    - 설계 원칙을 적용해 문제를 진단
    - 적절한 방법을(패턴 등) 적용해 문제를 해결
- 이것을 많은 단위 테스트와 인수 테스트로 뒷받침.
- 절대 부패가 시작되도록 놔두지 않음. 몇 주에 한번씩 설계를 청소하지 않음. 매일, 매시간, 매분마다 함.



그런데 설계 할 때 변경을 지나치게 고려하면 복잡성이 높아진다 하고, 설계를 너무 단순하게 했다가 경직성이 높아지는데 어떡하나? 변경에 대응하기 위해 인터페이스를 도입해야 한다는 건 어떻게 알 수 있나? 객체 지향 설계의 기본적인 주의<sup>tenet</sup>을 알고 있어야 함.
