# Effective Unit Testing

> 라쎄 코스켈라. 이복연 역. 한빛미디어. 2013 [[상세정보](https://book.naver.com/bookdb/book_detail.nhn?bid=7350902)]

## 목차
<!-- TOC -->

- [Effective Unit Testing](#effective-unit-testing)
    - [목차](#목차)
    - [1. 좋은 테스트의 약속](#1-좋은-테스트의-약속)
        - [테스트의 가치](#테스트의-가치)
    - [2. 좋은 테스트란](#2-좋은-테스트란)

<!-- /TOC -->

## 1. 좋은 테스트의 약속

### 테스트의 가치

1. 테스트는 실수를 바로 잡아줌.

2. 테스트는 실사용에 적합한 설계를 끌어냄.

3. 테스트는 원하는 동작을 명확히 알려주어 군더더기를 없앰.
4. 테스트를 작성해서 얻게 되는 가장 큰 수확은 테스트 자체가 아닌 작성 과정에서 얻는 깨달음.

![테스트의 직간접적인 영향](https://user-images.githubusercontent.com/13076271/44656951-fc703200-aa35-11e8-9d06-ba437d8d67b1.png)

반면 엉터리로 작성한 테스트 코드는 가독성뿐 아니라 안정성, 신뢰성, 실행속도에도 악영향을 끼침. 테스트의 잠재 가치를 전부 끌어내고 **품질 고지**와 **설계 고지**에 도달하려면

1. 테스트 코드도 제품 코드를 다루듯 하라. 믿고 의지할 수 있을 만큼 철저하게 리팩토링하고 높은 품질을 유지하라
2. 테스트를 제품 코드가 목적과 쓰임새에 적합한 구조가 되게끔 이끌어주는 설계 수단으로 활용하라

이 책은 1번에 관한 내용으로 구성 됨. 2번에 관해서는 저자가 저술한 [[Test Driven](https://www.amazon.com/gp/product/1932394850/ref=dbs_a_def_rwt_bibl_vppi_i1)] 또는 [[테스트 주도 개발로 배우는 객체 지향 설계와 실천](https://book.naver.com/bookdb/book_detail.nhn?bid=7231228)]을 추천하고 있음.



## 2. 좋은 테스트란

1. 읽기 좋은 코드

   - 가독성과 결함 밀도는 반비례
   - 테스트의 의도를 파악할 수 있는 코드

2. 구조화 된 코드

   - 끝나지 않는 통짜 소스, 비대하진 코드는 누구도 손대고 싶어하지 않음

   - 사람의 두뇌와 사고 모델이 지지고 볶을 수 있을 정도로 정리 된 구조
   - 도메인 모델과 맞게 명확한 경계를 가진 구조

3. 올바르게 감시하는 코드

   - 어떻게 구현했느냐가 아닌 의도한 대로 구현했느냐를 검사하는 코드

4. 독립적인 테스트
   - 다음 요소와 관련이 있을 때는 각별한 주의 필요: 시간, 임의성, 동시성, 인프라, 기존데이터, 영속성, 네트워킹
   - '우리가 제어할 수 없는 특징'을 가진 종속성들은 테스트 더블로 교체하거나 원하는 대로 동작하는 환경에 코드를 고립시켜야 함